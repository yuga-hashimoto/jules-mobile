import * as Localization from 'expo-localization';
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

const resources = {
  en: {
    translation: {
      sessions: 'Sessions',
      settings: 'Settings',
      apiKey: 'Jules API Key',
      save: 'Save',
      saved: 'Saved!',
      saveFailed: 'Save failed',
      createSession: 'New Session',
      prompt: 'Prompt',
      repo: 'Repository (owner/name)',
      create: 'Create',
      cancel: 'Cancel',
      language: 'Language',
      theme: 'Theme',
      activities: 'Activities',
      sendMessage: 'Send a message...',
      approvePlan: 'Approve Plan',
      status: 'Status',
      sources: 'Sources',
      allRepositories: 'All Repositories',
      noSessions: 'No sessions yet',
      errorLoading: 'Failed to load',
      working: 'Working',
      waitingForUser: 'Needs clarification',
      done: 'Done',
      failed: 'Failed',
      cancelled: 'Cancelled',
      openPR: 'Open PR',
      searchSessions: 'Search for repo or sessions',
      newSession: 'New session',
      describeTask: 'Describe the task for Jules...',
      sessionDetail: 'Session',
      recentSessions: 'Recent sessions',
      plan: 'Plan',
      progress: 'Progress',
      code: 'Code',
      codeGenerated: 'Generated code changes.',
      showLess: 'Show less',
      moreSteps: 'more steps',
      apiKeyHelp: 'Get your Jules API key from jules.google (Google AI Studio / Gemini API).',
      openCode: 'Open up the code for this screen:',
      changeText: 'Change any of the text, save the file, and your app will automatically update.',
      helpLink: "Tap here if your app doesn't automatically update after making changes",
    },
  },
  ja: {
    translation: {
      sessions: 'セッション',
      settings: '設定',
      apiKey: 'Jules APIキー',
      save: '保存',
      saved: '保存しました',
      saveFailed: '保存に失敗しました',
      createSession: '新規セッション',
      prompt: 'プロンプト',
      repo: 'リポジトリ (owner/name)',
      create: '作成',
      cancel: 'キャンセル',
      language: '言語',
      theme: 'テーマ',
      activities: 'アクティビティ',
      sendMessage: 'メッセージを送信...',
      approvePlan: '計画を承認',
      status: 'ステータス',
      sources: 'ソース',
      allRepositories: 'すべてのリポジトリ',
      noSessions: 'セッションはまだありません',
      errorLoading: '読み込みに失敗しました',
      working: '実行中',
      waitingForUser: '要確認',
      done: '完了',
      failed: '失敗',
      cancelled: 'キャンセル済み',
      openPR: 'PRを開く',
      searchSessions: 'リポジトリ・セッションを検索',
      newSession: '新しいセッション',
      describeTask: 'Julesへのタスクを入力...',
      sessionDetail: 'セッション',
      recentSessions: '最近のセッション',
      plan: 'プラン',
      progress: '進捗',
      code: 'コード',
      codeGenerated: 'コードの変更が生成されました。',
      showLess: '折りたたむ',
      moreSteps: 'ステップをさらに表示',
      apiKeyHelp: 'jules.google（Google AI Studio / Gemini API）からAPIキーを取得してください。',
      openCode: 'この画面のコードを開く:',
      changeText: 'テキストを変更してファイルを保存すると、アプリが自動的に更新されます。',
      helpLink: '変更後にアプリが自動更新されない場合はここをタップ',
    },
  },
  ko: {
    translation: {
      sessions: '세션',
      settings: '설정',
      apiKey: 'Jules API 키',
      save: '저장',
      saved: '저장됨',
      saveFailed: '저장 실패',
      createSession: '새 세션',
      prompt: '프롬프트',
      repo: '저장소 (owner/name)',
      create: '만들기',
      cancel: '취소',
      language: '언어',
      theme: '테마',
      activities: '활동',
      sendMessage: '메시지 보내기...',
      approvePlan: '계획 승인',
      status: '상태',
      sources: '소스',
      allRepositories: '모든 저장소',
      noSessions: '세션 없음',
      errorLoading: '불러오기 실패',
      working: '작업 중',
      waitingForUser: '확인 필요',
      done: '완료',
      failed: '실패',
      cancelled: '취소됨',
      openPR: 'PR 열기',
      searchSessions: '저장소/세션 검색',
      newSession: '새 세션',
      describeTask: 'Jules에게 작업 설명...',
      sessionDetail: '세션',
      recentSessions: '최근 세션',
      plan: '계획',
      progress: '진행 상황',
      code: '코드',
      codeGenerated: '코드 변경 사항이 생성되었습니다.',
      showLess: '접기',
      moreSteps: '단계 더 보기',
      apiKeyHelp: 'jules.google(Google AI Studio / Gemini API)에서 API 키를 가져오세요.',
      openCode: '이 화면의 코드를 엽니다:',
      changeText: '텍스트를 변경하고 파일을 저장하면 앱이 자동으로 업데이트됩니다.',
      helpLink: '변경 후 앱이 자동으로 업데이트되지 않으면 여기를 탭하세요',
    },
  },
  zh: {
    translation: {
      sessions: '会话',
      settings: '设置',
      apiKey: 'Jules API 密钥',
      save: '保存',
      saved: '已保存',
      saveFailed: '保存失败',
      createSession: '新会话',
      prompt: '提示词',
      repo: '仓库 (owner/name)',
      create: '创建',
      cancel: '取消',
      language: '语言',
      theme: '主题',
      activities: '活动',
      sendMessage: '发送消息...',
      approvePlan: '批准计划',
      status: '状态',
      sources: '来源',
      allRepositories: '所有仓库',
      noSessions: '暂无会话',
      errorLoading: '加载失败',
      working: '处理中',
      waitingForUser: '需要确认',
      done: '完成',
      failed: '失败',
      cancelled: '已取消',
      openPR: '查看 PR',
      searchSessions: '搜索仓库或会话',
      newSession: '新建会话',
      describeTask: '描述Jules的任务...',
      sessionDetail: '会话',
      recentSessions: '最近的会话',
      plan: '计划',
      progress: '进度',
      code: '代码',
      codeGenerated: '已生成代码更改。',
      showLess: '收起',
      moreSteps: '更多步骤',
      apiKeyHelp: '从 jules.google（Google AI Studio / Gemini API）获取您的 API 密钥。',
      openCode: '打开此屏幕的代码：',
      changeText: '更改任何文本，保存文件，您的应用将自动更新。',
      helpLink: '如果更改后应用没有自动更新，请点击此处',
    },
  },
};

i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: Localization.getLocales()[0].languageCode ?? 'en',
    fallbackLng: 'en',
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;
